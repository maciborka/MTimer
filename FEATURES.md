# Новые возможности MacikTimer

## 1. Стоимость часа для проектов

### Как добавить ставку при создании проекта:
1. Нажмите кнопку "+" рядом с выбором проекта
2. Введите название проекта
3. Укажите стоимость часа в долларах (например: 50)
4. Нажмите "Создать"

### Как обновить ставку для существующего проекта:
Запустите скрипт обновления:
```bash
source venv/bin/activate
python3 update_project_rates.py
```

Или вручную в коде:
```python
from database import Database
db = Database()
db.update_project_rate(project_id=1, hourly_rate=50.0)
db.close()
```

### Как отображается стоимость:
- В выпадающем списке проектов: `Название проекта ($50/ч)`
- В нижней панели при фильтре по проекту: `ЗА НЕДЕЛЮ ($350.00)` - общая стоимость за период

## 2. Фильтрация по проекту

### Как использовать:
1. Выберите проект в выпадающем списке (верхняя карточка)
2. Таблица автоматически покажет только сессии по этому проекту
3. Выберите "Все проекты" чтобы увидеть все сессии

### Комбинация фильтров:
- Проект + Период (Сегодня/Неделя/Месяц)
- Например: "Разработка сайта" + "За неделю" = все сессии по разработке сайта за последние 7 дней

### Расчет стоимости:
Если у проекта указана ставка:
- Приложение автоматически рассчитает общую стоимость
- Формула: `(общее время в часах) × (ставка за час)`
- Отображается рядом с периодом: `ЗА НЕДЕЛЮ ($450.00)`

## 3. Восстановление таймера

При закрытии приложения с активным таймером:
- Сессия сохраняется в БД как незавершенная
- При следующем запуске таймер автоматически восстанавливается
- Показывает полное время с момента первоначального старта

## Примеры использования

### Пример 1: Работа над платным проектом
1. Создайте проект "Клиент А - Сайт" со ставкой $75/ч
2. Запустите таймер при начале работы
3. В конце недели выберите этот проект в фильтре
4. Увидите: "ЗА НЕДЕЛЮ (15.5 ч) - $1,162.50"

### Пример 2: Анализ времени по задачам
1. Выберите "Все проекты" и период "Месяц"
2. Просмотрите все сессии за месяц
3. Выберите конкретный проект для детализации
4. Используйте данные для отчетности

### Пример 3: Быстрое продолжение работы
1. Закрыли приложение с запущенным таймером
2. Через час снова открыли - таймер продолжил работу
3. Или остановите текущий и выберите старую сессию → "Продолжить"
